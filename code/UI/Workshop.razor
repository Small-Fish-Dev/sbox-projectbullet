@using ProjectBullet.UI.WorkshopElements
@using Sandbox.UI
@inherits Sandbox.UI.Panel
@namespace ProjectBullet.UI
@attribute [StyleSheet( "/UI/Workshop.scss" )]

<root>
	<GraphVisualizer @ref=Visualizer></GraphVisualizer>
</root>

@code {

	public GraphController Controller;
	private GraphVisualizer Visualizer { get; set; }

	protected override void OnAfterTreeRender( bool firstTime )
	{
		base.OnAfterTreeRender( firstTime );

		if ( !firstTime )
		{
			return;
		}
		
		// Create our GraphController
		Controller = new GraphController( Util.LocalPlayer.NodeExecutors[0], Visualizer );
		Visualizer.Controller = Controller;
	}

}
